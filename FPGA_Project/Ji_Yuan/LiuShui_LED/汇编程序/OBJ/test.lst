


ARM Macro Assembler    Page 1 


    1 00000000         ; ******************************************************
                       *******
    2 00000000         ; 实验名称：LED流水灯实验
    3 00000000         ;
    4 00000000         ; 硬件模块：计算机原理应用实验箱
    5 00000000         ;
    6 00000000         ; 硬件接线：ARM P12接口 --------- LED P2接口
    7 00000000         ;              PF0~PF7 -------- LED1~LED8
    8 00000000         ;       注：可使用20P排线直连P12、P2接口。
    9 00000000         ;
   10 00000000         ; 实验现象：LED1~LED8实现流水灯效果。
   11 00000000         ;
   12 00000000         ; 更新时间：2019-01-22
   13 00000000         ;*******************************************************
                       *******
   14 00000000                 THUMB
   15 00000000                 REQUIRE8
   16 00000000                 PRESERVE8
   17 00000000         
   18 00000000 00000000 
                       __ARM_use_no_argv
                               EQU              0
   19 00000000         
   20 00000000                 EXPORT           __ARM_use_no_argv
   21 00000000                 EXPORT           main
   22 00000000         
   23 00000000                 IMPORT           Stm32_Clock_Init
   24 00000000                 IMPORT           delay_init
   25 00000000                 IMPORT           LED_Init
   26 00000000                 IMPORT           delay_ms
   27 00000000                 IMPORT           GPIO_Write
   28 00000000         
   29 00000000                 AREA             ||i.main||, CODE, READONLY, ALI
GN=2
   30 00000000         
   31 00000000         |GPIOF|
   32 00000000 40021400        DCD              0x40021400
   33 00000004         
   34 00000004         ; int main(void)
   35 00000004         main    PROC
   36 00000004 2307            MOVS             r3,#7
   37 00000006 2202            MOVS             r2,#2
   38 00000008 2119            MOVS             r1,#0x19
   39 0000000A F44F 70A8       MOV              r0,#0x150
   40 0000000E F7FF FFFE       BL               Stm32_Clock_Init 
                                                            ; 系统时钟初始化
   41 00000012 20A8            MOVS             r0,#0xa8
   42 00000014 F7FF FFFE       BL               delay_init  ; 延时初始化
   43 00000018 F7FF FFFE       BL               LED_Init    ; LED初始化
   44 0000001C E00F            B                |while(1)|
   45 0000001E         |loop|                               ; 循环体
   46 0000001E 2001            MOVS             r0,#0x01
   47 00000020 FA10 F204       LSLS             r2,r0,r4    ; 逻辑左移
   48 00000024 B295            UXTH             r5,r2
   49 00000026 4629            MOV              r1,r5
   50 00000028 F85F 002C       LDR              r0,|GPIOF|  ; GPIOF输出led_data
                                                            
   51 0000002C F7FF FFFE       BL               GPIO_Write
   52 00000030 2064            MOVS             r0,#0x64



ARM Macro Assembler    Page 2 


   53 00000032 F7FF FFFE       BL               delay_ms    ; 延时100ms
   54 00000036 1C62            ADDS             r2,r4,#1
   55 00000038 B2D4            UXTB             r4,r2
   56 0000003A F004 0407       AND              r4,r4,#7    ; cont大于7后清零
   57 0000003E         |while(1)|
   58 0000003E E7EE            B                |loop|      ; 循环
   59 00000040                 ENDP
   60 00000040         
   61 00000040                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\test.d -o.\test.o -I.\RTE\_Target_1 -I"F:\STM32\Keil5 MDK\ARM
\PACK\Keil\STM32F4xx_DFP\1.0.8\Device\Include" -I"F:\STM32\Keil5 MDK\ARM\CMSIS\
Include" --predefine="__UVISION_VERSION SETA 524" --predefine="STM32F40_41xxx S
ETA 1" --list=..\obj\test.lst test.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

GPIOF 00000000

Symbol: GPIOF
   Definitions
      At line 31 in file test.s
   Uses
      At line 50 in file test.s
Comment: GPIOF used once
loop 0000001E

Symbol: loop
   Definitions
      At line 45 in file test.s
   Uses
      At line 58 in file test.s
Comment: loop used once
main 00000004

Symbol: main
   Definitions
      At line 35 in file test.s
   Uses
      At line 21 in file test.s
Comment: main used once
while(1) 0000003E

Symbol: while(1)
   Definitions
      At line 57 in file test.s
   Uses
      At line 44 in file test.s
Comment: while(1) used once
|i.main| 00000000

Symbol: |i.main|
   Definitions
      At line 29 in file test.s
   Uses
      None
Comment: |i.main| unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

__ARM_use_no_argv 00000000

Symbol: __ARM_use_no_argv
   Definitions
      At line 18 in file test.s
   Uses
      At line 20 in file test.s
Comment: __ARM_use_no_argv used once
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

GPIO_Write 00000000

Symbol: GPIO_Write
   Definitions
      At line 27 in file test.s
   Uses
      At line 51 in file test.s
Comment: GPIO_Write used once
LED_Init 00000000

Symbol: LED_Init
   Definitions
      At line 25 in file test.s
   Uses
      At line 43 in file test.s
Comment: LED_Init used once
Stm32_Clock_Init 00000000

Symbol: Stm32_Clock_Init
   Definitions
      At line 23 in file test.s
   Uses
      At line 40 in file test.s
Comment: Stm32_Clock_Init used once
delay_init 00000000

Symbol: delay_init
   Definitions
      At line 24 in file test.s
   Uses
      At line 42 in file test.s
Comment: delay_init used once
delay_ms 00000000

Symbol: delay_ms
   Definitions
      At line 26 in file test.s
   Uses
      At line 53 in file test.s
Comment: delay_ms used once
5 symbols
344 symbols in table
