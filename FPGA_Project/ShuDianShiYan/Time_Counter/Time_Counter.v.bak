module Time_Counter(clk,rst_n,stop_n,seg_led_1,seg_led_2);
	input clk;
	input rst_n;
	input stop_n;

	
	output [6:0] seg_led_1;
	output [6:0] seg_led_2;
	
	wire rst_d;
	wire stop_d;
	
	reg [8:0] seg [6:0];
	reg [5:0] count = 2'd00;
	reg [3:0] seg_data_1 = 1'd0;
	reg [3:0] seg_data_2 = 1'd0;
	
	reg [6:0] timer;
	reg timer_access = 1'b1;
	
	

initial begin         // seg 为 g ~ a 对应赋值 
	 seg[0] = 7'h3f;                                  //7段显示数字  0
	 seg[1] = 7'h06;                                  //7段显示数字  1
	 seg[2] = 7'h5b;                                  //7段显示数字  2
	 seg[3] = 7'h4f;                                  //7段显示数字  3
	 seg[4] = 7'h66;                                  //7段显示数字  4
	 seg[5] = 7'h6d;                                  //7段显示数字  5
	 seg[6] = 7'h7d;                                  //7段显示数字  6
	 seg[7] = 7'h07;                                  //7段显示数字  7
	 seg[8] = 7'h7f;                                  //7段显示数字  8
	 seg[9] = 7'h6f;                                  //7段显示数字  9

end


	debounce#(.N(2))u1 (                     // 调用按键消抖                       
                       .clk (clk),
                       .rst (rst),
                       .key ({rst_n,stop_n}),
                       .key_pulse ({rst_d,stop_d})
                       ); 
always @ (posedge clk or negedge rst)
begin
	if(!rst)
	begin
		if(rst_d) 
		begin
			count <= 0;
			timer <= 0;
		end
	end
	
	else begin
		if(timer_access)
		begin
			if(timer != 7'd100)
			begin
				timer <= timer + 7'd1;
			end
			else
			begin
				timer <= 7'd0;
				count <= (count + 1) % 20;
			end
		end
	
		if(stop_d) timer_access <= ~timer_access;
	
	end
	
end

always @ (*)
begin
	seg_data_1 <= count / 10;     // seg1显示count的十位部分 seg2显示个位部分 
	if(count % 10 == 0)
		seg_data_2 <= 0;
	else
		seg_data_2 <= count - 10*seg_data_1;
end

assign seg_led_1 = seg[seg_data_1];
assign seg_led_2 = seg[seg_data_2];


endmodule