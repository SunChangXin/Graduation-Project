


ARM Macro Assembler    Page 1 


    1 00000000                 THUMB
    2 00000000                 REQUIRE8
    3 00000000                 PRESERVE8
    4 00000000         
    5 00000000                 EXPORT           delay_init
    6 00000000                 EXPORT           delay_ms
    7 00000000                 EXPORT           delay_us
    8 00000000                 EXPORT           delay_xms
    9 00000000         
   10 00000000                 AREA             ||i.delay_init||, CODE, READONL
Y, ALIGN=2
   11 00000000         
   12 00000000         delay_init
                               PROC
   13 00000000 F04F 21E0       MOV              r1,#0xe000e000
   14 00000004 6909            LDR              r1,[r1,#0x10]
   15 00000006 F021 0104       BIC              r1,r1,#4
   16 0000000A F04F 22E0       MOV              r2,#0xe000e000
   17 0000000E 6111            STR              r1,[r2,#0x10]
   18 00000010 17C2            ASRS             r2,r0,#31
   19 00000012 EB00 7252       ADD              r2,r0,r2,LSR #29
   20 00000016 F3C2 02C7       UBFX             r2,r2,#3,#8
   21 0000001A 4B07            LDR              r3,|L0.56|
   22 0000001C 701A            STRB             r2,[r3,#0]
   23 0000001E 4619            MOV              r1,r3
   24 00000020 7809            LDRB             r1,[r1,#0]  ; fac_us
   25 00000022 EB01 0241       ADD              r2,r1,r1,LSL #1
   26 00000026 EBC2 11C1       RSB              r1,r2,r1,LSL #7
   27 0000002A F64F 72FF       MOV              r2,#0xffff
   28 0000002E EA02 01C1       AND              r1,r2,r1,LSL #3
   29 00000032 4A02            LDR              r2,|L0.60|
   30 00000034 8011            STRH             r1,[r2,#0]
   31 00000036 4770            BX               lr
   32 00000038                 ENDP
   33 00000038         
   34 00000038         |L0.56|
   35 00000038 00000000        DCD              fac_us
   36 0000003C         |L0.60|
   37 0000003C 00000000        DCD              fac_ms
   38 00000040         
   39 00000040                 AREA             ||i.delay_ms||, CODE, READONLY,
 ALIGN=1
   40 00000000         
   41 00000000         delay_ms
                               PROC
   42 00000000 B570            PUSH             {r4-r6,lr}
   43 00000002 4604            MOV              r4,r0
   44 00000004 F44F 7007       MOV              r0,#0x21c
   45 00000008 FB94 F0F0       SDIV             r0,r4,r0
   46 0000000C B2C6            UXTB             r6,r0
   47 0000000E F44F 7007       MOV              r0,#0x21c
   48 00000012 FB94 F1F0       SDIV             r1,r4,r0
   49 00000016 FB00 4011       MLS              r0,r0,r1,r4
   50 0000001A B285            UXTH             r5,r0
   51 0000001C E005            B                |L1.42|
   52 0000001E         |L1.30|
   53 0000001E F44F 7007       MOV              r0,#0x21c
   54 00000022 F7FF FFFE       BL               delay_xms
   55 00000026 1E70            SUBS             r0,r6,#1



ARM Macro Assembler    Page 2 


   56 00000028 B2C6            UXTB             r6,r0
   57 0000002A         |L1.42|
   58 0000002A 2E00            CMP              r6,#0
   59 0000002C D1F7            BNE              |L1.30|
   60 0000002E B115            CBZ              r5,|L1.54|
   61 00000030 4628            MOV              r0,r5
   62 00000032 F7FF FFFE       BL               delay_xms
   63 00000036         |L1.54|
   64 00000036 BD70            POP              {r4-r6,pc}
   65 00000038                 ENDP
   66 00000038         
   67 00000038         
   68 00000038                 AREA             ||i.delay_us||, CODE, READONLY,
 ALIGN=2
   69 00000000         
   70 00000000         delay_us
                               PROC
   71 00000000 4601            MOV              r1,r0
   72 00000002 B901            CBNZ             r1,|L2.6|
   73 00000004         |L2.4|
   74 00000004 4770            BX               lr
   75 00000006         |L2.6|
   76 00000006 4A0E            LDR              r2,|L2.64|
   77 00000008 7812            LDRB             r2,[r2,#0]  ; fac_us
   78 0000000A 434A            MULS             r2,r1,r2
   79 0000000C F04F 23E0       MOV              r3,#0xe000e000
   80 00000010 615A            STR              r2,[r3,#0x14]
   81 00000012 2200            MOVS             r2,#0
   82 00000014 619A            STR              r2,[r3,#0x18]
   83 00000016 2201            MOVS             r2,#1
   84 00000018 611A            STR              r2,[r3,#0x10]
   85 0000001A BF00            NOP
   86 0000001C         |L2.28|
   87 0000001C F04F 22E0       MOV              r2,#0xe000e000
   88 00000020 6910            LDR              r0,[r2,#0x10]
   89 00000022 F000 0201       AND              r2,r0,#1
   90 00000026 B11A            CBZ              r2,|L2.48|
   91 00000028 F400 3280       AND              r2,r0,#0x10000
   92 0000002C 2A00            CMP              r2,#0
   93 0000002E D0F5            BEQ              |L2.28|
   94 00000030         |L2.48|
   95 00000030 2200            MOVS             r2,#0
   96 00000032 F04F 23E0       MOV              r3,#0xe000e000
   97 00000036 611A            STR              r2,[r3,#0x10]
   98 00000038 619A            STR              r2,[r3,#0x18]
   99 0000003A BF00            NOP
  100 0000003C E7E2            B                |L2.4|
  101 0000003E                 ENDP
  102 0000003E         
  103 0000003E 00 00           DCW              0x0000
  104 00000040         |L2.64|
  105 00000040 00000000        DCD              fac_us
  106 00000044         
  107 00000044                 AREA             ||i.delay_xms||, CODE, READONLY
, ALIGN=2
  108 00000000         
  109 00000000         delay_xms
                               PROC
  110 00000000 4601            MOV              r1,r0



ARM Macro Assembler    Page 3 


  111 00000002 4A0D            LDR              r2,|L3.56|
  112 00000004 8812            LDRH             r2,[r2,#0]  ; fac_ms
  113 00000006 434A            MULS             r2,r1,r2
  114 00000008 F04F 23E0       MOV              r3,#0xe000e000
  115 0000000C 615A            STR              r2,[r3,#0x14]
  116 0000000E 2200            MOVS             r2,#0
  117 00000010 619A            STR              r2,[r3,#0x18]
  118 00000012 2201            MOVS             r2,#1
  119 00000014 611A            STR              r2,[r3,#0x10]
  120 00000016 BF00            NOP
  121 00000018         |L3.24|
  122 00000018 F04F 22E0       MOV              r2,#0xe000e000
  123 0000001C 6910            LDR              r0,[r2,#0x10]
  124 0000001E F000 0201       AND              r2,r0,#1
  125 00000022 B11A            CBZ              r2,|L3.44|
  126 00000024 F400 3280       AND              r2,r0,#0x10000
  127 00000028 2A00            CMP              r2,#0
  128 0000002A D0F5            BEQ              |L3.24|
  129 0000002C         |L3.44|
  130 0000002C 2200            MOVS             r2,#0
  131 0000002E F04F 23E0       MOV              r3,#0xe000e000
  132 00000032 611A            STR              r2,[r3,#0x10]
  133 00000034 619A            STR              r2,[r3,#0x18]
  134 00000036 4770            BX               lr
  135 00000038                 ENDP
  136 00000038         
  137 00000038         |L3.56|
  138 00000038 00000000        DCD              fac_ms
  139 0000003C         
  140 0000003C                 AREA             ||.arm_vfe_header||, DATA, READ
ONLY, NOALLOC, ALIGN=2
  141 00000000         
  142 00000000 00000000        DCD              0x00000000
  143 00000004         
  144 00000004                 AREA             ||.data||, DATA, ALIGN=1
  145 00000000         
  146 00000000         fac_us
  147 00000000 00 00           DCB              0x00,0x00
  148 00000002         fac_ms
  149 00000002 00 00           DCW              0x0000
  150 00000004         
  151 00000004                 KEEP             fac_us
  152 00000004                 KEEP             fac_ms
  153 00000004         
  154 00000004                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\delay.d -o.\delay.o -I.\RTE\_Target_1 -I"F:\Keil5 MDK\ARM\PAC
K\Keil\STM32F4xx_DFP\2.13.0\Drivers\CMSIS\Device\ST\STM32F4xx\Include" -I"F:\Ke
il5 MDK\ARM\CMSIS\Include" -I"F:\Keil5 MDK\ARM\PACK\Keil\STM32F4xx_DFP\2.13.0\D
evice\Include" --predefine="__UVISION_VERSION SETA 526" --predefine="STM32F407x
x SETA 1" --list=..\obj\delay.lst ..\SYSTEM\delay.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

L0.56 00000038

Symbol: L0.56
   Definitions
      At line 34 in file ..\SYSTEM\delay.s
   Uses
      At line 21 in file ..\SYSTEM\delay.s
Comment: L0.56 used once
L0.60 0000003C

Symbol: L0.60
   Definitions
      At line 36 in file ..\SYSTEM\delay.s
   Uses
      At line 29 in file ..\SYSTEM\delay.s
Comment: L0.60 used once
delay_init 00000000

Symbol: delay_init
   Definitions
      At line 12 in file ..\SYSTEM\delay.s
   Uses
      At line 5 in file ..\SYSTEM\delay.s
Comment: delay_init used once
|i.delay_init| 00000000

Symbol: |i.delay_init|
   Definitions
      At line 10 in file ..\SYSTEM\delay.s
   Uses
      None
Comment: |i.delay_init| unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

L1.30 0000001E

Symbol: L1.30
   Definitions
      At line 52 in file ..\SYSTEM\delay.s
   Uses
      At line 59 in file ..\SYSTEM\delay.s
Comment: L1.30 used once
L1.42 0000002A

Symbol: L1.42
   Definitions
      At line 57 in file ..\SYSTEM\delay.s
   Uses
      At line 51 in file ..\SYSTEM\delay.s
Comment: L1.42 used once
L1.54 00000036

Symbol: L1.54
   Definitions
      At line 63 in file ..\SYSTEM\delay.s
   Uses
      At line 60 in file ..\SYSTEM\delay.s
Comment: L1.54 used once
delay_ms 00000000

Symbol: delay_ms
   Definitions
      At line 41 in file ..\SYSTEM\delay.s
   Uses
      At line 6 in file ..\SYSTEM\delay.s
Comment: delay_ms used once
|i.delay_ms| 00000000

Symbol: |i.delay_ms|
   Definitions
      At line 39 in file ..\SYSTEM\delay.s
   Uses
      None
Comment: |i.delay_ms| unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

L2.28 0000001C

Symbol: L2.28
   Definitions
      At line 86 in file ..\SYSTEM\delay.s
   Uses
      At line 93 in file ..\SYSTEM\delay.s
Comment: L2.28 used once
L2.4 00000004

Symbol: L2.4
   Definitions
      At line 73 in file ..\SYSTEM\delay.s
   Uses
      At line 100 in file ..\SYSTEM\delay.s
Comment: L2.4 used once
L2.48 00000030

Symbol: L2.48
   Definitions
      At line 94 in file ..\SYSTEM\delay.s
   Uses
      At line 90 in file ..\SYSTEM\delay.s
Comment: L2.48 used once
L2.6 00000006

Symbol: L2.6
   Definitions
      At line 75 in file ..\SYSTEM\delay.s
   Uses
      At line 72 in file ..\SYSTEM\delay.s
Comment: L2.6 used once
L2.64 00000040

Symbol: L2.64
   Definitions
      At line 104 in file ..\SYSTEM\delay.s
   Uses
      At line 76 in file ..\SYSTEM\delay.s
Comment: L2.64 used once
delay_us 00000000

Symbol: delay_us
   Definitions
      At line 70 in file ..\SYSTEM\delay.s
   Uses
      At line 7 in file ..\SYSTEM\delay.s
Comment: delay_us used once
|i.delay_us| 00000000

Symbol: |i.delay_us|
   Definitions
      At line 68 in file ..\SYSTEM\delay.s
   Uses
      None
Comment: |i.delay_us| unused
7 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

L3.24 00000018

Symbol: L3.24
   Definitions
      At line 121 in file ..\SYSTEM\delay.s
   Uses
      At line 128 in file ..\SYSTEM\delay.s
Comment: L3.24 used once
L3.44 0000002C

Symbol: L3.44
   Definitions
      At line 129 in file ..\SYSTEM\delay.s
   Uses
      At line 125 in file ..\SYSTEM\delay.s
Comment: L3.44 used once
L3.56 00000038

Symbol: L3.56
   Definitions
      At line 137 in file ..\SYSTEM\delay.s
   Uses
      At line 111 in file ..\SYSTEM\delay.s
Comment: L3.56 used once
delay_xms 00000000

Symbol: delay_xms
   Definitions
      At line 109 in file ..\SYSTEM\delay.s
   Uses
      At line 8 in file ..\SYSTEM\delay.s
      At line 54 in file ..\SYSTEM\delay.s
      At line 62 in file ..\SYSTEM\delay.s

|i.delay_xms| 00000000

Symbol: |i.delay_xms|
   Definitions
      At line 107 in file ..\SYSTEM\delay.s
   Uses
      None
Comment: |i.delay_xms| unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

|.arm_vfe_header| 00000000

Symbol: |.arm_vfe_header|
   Definitions
      At line 140 in file ..\SYSTEM\delay.s
   Uses
      None
Comment: |.arm_vfe_header| unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

fac_ms 00000002

Symbol: fac_ms
   Definitions
      At line 148 in file ..\SYSTEM\delay.s
   Uses
      At line 37 in file ..\SYSTEM\delay.s
      At line 138 in file ..\SYSTEM\delay.s
      At line 152 in file ..\SYSTEM\delay.s

fac_us 00000000

Symbol: fac_us
   Definitions
      At line 146 in file ..\SYSTEM\delay.s
   Uses
      At line 35 in file ..\SYSTEM\delay.s
      At line 105 in file ..\SYSTEM\delay.s
      At line 151 in file ..\SYSTEM\delay.s

|.data| 00000000

Symbol: |.data|
   Definitions
      At line 144 in file ..\SYSTEM\delay.s
   Uses
      None
Comment: |.data| unused
3 symbols
358 symbols in table
